<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script  src="http://code.jquery.com/jquery-latest.min.js"></script>
    <style>

        div {
            border: lightgray;
            border: 2px;
        }

        label {
            background-color: lightgray;
            text-align: center;
            display: inline-block;
            width: 180px;
        }


    </style>
</head>

<h3>기본정보</h3>

<form id="joinForm">
<div>
    <label>아이디</label>
    <input type="text" name="userid" id="userid">
    <button type="button" id="btnidCheck">아이디 중복확인</button>
    <span>(영문 소문자, 숫자 4~16자)</span>
</div>
<div>
    <label>비밀번호</label>
    <input type="password" name="pass" id="pass">
    <span>영문 대소문자/최소 1개의 숫자 또는 특수문자('~!@^*()-_+[]{}\:,.<>/) 조합으로 8~16자리.</span>
</div>
<div>
    <label>비밀번호 확인</label>
    <input type="password" name="pass2" id="pass2">
</div>
<div>
    <label>이름</label>
    <input type="text" name="username" id="username" maxlength='10'>
</div>
<div>
    <label>연락처</label>
    <input type="text" name="phone" id="phone">
</div>
<div>
    <label>비밀번호 확인시 질문</label>
    <select name="question" id="question">
        <option selected>========선택========</option>
    </select>
</div>
<div>
    <label>비밀번호 확인시 답변</label>
    <input type="text" name="answer" id="answer">
</div>
<div>
    <label>성별</label>
    <input type="radio" name="gender" id="gender1">
    <span>남자</span>
    <input type="radio" name="gender" id="gender2">
    <span>여자</span>
</div>
<div>
    <label>생년월일</label>
    <select name="byear" id="byear">
        <option selected>1900</option>
    </select>
    <select name="bmonth" id="bmonth">
        <option selected>01</option>
    </select>
    <select name="bday" id="bday">
        <option selected>11</option>
    </select>
</div>
<div>
    <button type="button" id="btnjoin">회원가입</button> 
</div>
</form>


</body>

<script>

    $(document).ready(function(){

        let isIDCheck = false;
        let regType1 = /^[a-z0-9]{4,16}$/;
        let regType2 = /^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9])|(?=.*?['~!@^*()-_+[\]{}\:,.<>/]).{8,16}$/;
        let regType3 = /^(010|011)[-\s]?\d{3,4}[-\s]?\d{4}$/;

        $("#btnjoin").on("click", function(){
            
            if($("#userid").val() == ""){
                alert("아이디를 입력하세요");
                return;
            }

            if(!isIDCheck){
                alert("아이디 중복확인을 하세요");
                return;
            }

            if($("#pass").val() == ""){
                alert("비밀번호를 입력하세요");
                return;
            }

            if(!regType2.test(document.getElementById('pass').value)){
                alert('비밀번호가 조건에 맞지 않습니다');
                return;
            }

            if($("#pass2").val() == ""){
                alert("비밀번호 확인을 입력하세요");
                return;
            }

            if(!($("#pass").val() == $("#pass2").val())){
                alert("비밀번호를 다시 확인해주세요");
            }

            if($("#username").val() == ""){
                alert("이름을 입력하세요");
                return;
            }

            if($("#phone").val() == ""){
                alert("연락처를 입력하세요");
                return;
            }

            if(!regType3.test(document.getElementById('phone').value)){
                alert('연락처가 조건에 맞지 않습니다');
                return;
            }

            console.log("회원가입 완료");

        });

        $("#btnidCheck").on("click", function(){
            if(!regType1.test(document.getElementById('userid').value)){
                alert('아이디가 조건에 맞지 않습니다');
                return isIDCheck;
            }else{
                isIDCheck = true;
                alert("아이디 중복확인이 완료되었습니다");
                return;
            }
        });
    });

</script>
</html>